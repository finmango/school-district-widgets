<!DOCTYPE html><html><!-- HTML page head --><head>
    <!-- HTML metadata -->
    <meta charset="UTF-8">
    <title>School District Widgets</title>
    <meta name="description" content="Interactive widgets for the school district covid data">
    <link rel="icon" type="image/png" href="../static/logo-64.png">

    <!-- Add to homescreen for Safari on iOS -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="School District Widgets">

    <!-- Homescreen icons -->
    <link rel="apple-touch-icon" href="../static/icon-64x64.png">
    <link rel="apple-touch-icon" sizes="64x64" href="../static/icon-64x64.png">
    <link rel="apple-touch-icon" sizes="128x128" href="../static/icon-128x128.png">
    <link rel="apple-touch-icon" sizes="512x512" href="../static/icon-512x512.png">

    <!-- Capabilities-related metadata -->
    <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">

    <!-- MomentJS -->
    <!--
    <script type="text/javascript" src="../third_party/moment/min/moment.min.js"></script>
    -->

    <!-- Google Charts -->
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>

    <!-- Custom styles -->
    <link rel="stylesheet" href="../third_party/picnic/picnic.min.css">
    <link rel="stylesheet" href="../static/styles.min.css">

    <!-- Polyfills, custom functions and constants -->
    <script type="text/javascript" src="../static/polyfills.min.js"></script>

    <!-- CSV Parsing -->
    <script type="text/javascript" src="../third_party/papaparse/papaparse.min.js"></script>

    <!-- Custom dependencies for data handling -->
    <script type="text/javascript" src="../static/data-loader.min.js"></script>

    <!-- Configuration loading -->
    <script type="text/javascript">CACHE=window.CACHE||{CSV:{},gcharts:{}},DEFAULT_OPTIONS=window.DEFAULT_OPTIONS||{"tcm-metadata-url":"https://storage.googleapis.com/school-districts/school-districts-metadata.csv","cod-data-url":"https://storage.googleapis.com/covid19-open-data/v3","tcm-data-url":"https://storage.googleapis.com/school-districts/cases/latest-school-cases.csv","zip-data-url":"../static/zip-fips-map.csv"},CURRENT_OPTIONS=window.CURRENT_OPTIONS||Object.keys(DEFAULT_OPTIONS).reduce((t,o)=>Object.assign(t,{[o]:sessionStorage.getItem(o)||DEFAULT_OPTIONS[o]}),{}),GOOGLE_CHARTS_CONFIG=window.GOOGLE_CHARTS_CONFIG||{theme:"material",colors:["#FB780F"],legend:{position:CURRENT_OPTIONS.chart_legend_position||"none"},chartArea:{width:"100%",height:"100%",left:parseInt(CURRENT_OPTIONS.chart_padding_left||64),bottom:parseInt(CURRENT_OPTIONS.chart_padding_bottom||48),top:parseInt(CURRENT_OPTIONS.chart_padding_top||24)},titlePosition:"in",axisTitlesPosition:"in",hAxis:{textPosition:"bottom"},vAxis:{textPosition:"in",viewWindow:{min:0}},height:parseInt(CURRENT_OPTIONS.chart_height||300)};</script>


</head><body class="single-column">

    <!-- Page header -->
    <a class="centered uppercase" target="_blank" href="https://thecovidmonitor.com">
    <img src="../static/logo_wide.webp" height="128" width="auto">
</a>

    <main>
        <!-- Load the full report -->
        <div>
    <div class="spacer"></div>
    <!-- Wrap the whole widget into a DIV -->
<div style="visibility: hidden;">
    <script async>!async function(){const t=document.currentScript.parentElement,e=Number(getWindowDistrictId(window)||getWindowDistrictId(window.parent)),o=(await loadCSV(CURRENT_OPTIONS["tcm-metadata-url"])).filter(t=>Number(t.district_id)===e)[0],a=(String(o.district_name).titleCase().replace("School District",""),attachElement("table",{tableLayout:"fixed",className:"fullwidth"},t)),n=`<tr><th colspan=2>${o.district_name} School District Information</th></tr>`;let r=n;if(o.school_count&&(r+=`<tr><td><b>Number of Schools</b></td><td>${o.school_count}</td></tr>`),o.student_count&&(r+=`<tr><td><b>Total Student Count as of 2019</b></td><td>${o.student_count}</td></tr>`),o.teacher_count&&(r+=`<tr><td><b>Total Teacher Count as of 2019</b></td><td>${o.teacher_count}</td></tr>`),r===n)r+="<tr><td colspan=2>No data available for this school district</td></tr>";else{attachElement("p",{className:"footnote",innerHTML:'Data from <a href="https://nces.ed.gov/ccd/" target="_blank">NCES Common Core of Data</a>'},t)}a.innerHTML=r,a.parentElement.style.visibility="visible"}();</script>
</div>
</div>

<div>
    <div class="spacer"></div>
    <!-- Wrap the whole widget into a DIV -->
<div style="visibility: hidden;">
    <script async>!async function(){const t=document.currentScript.parentElement,e=Number(getWindowDistrictId(window)||getWindowDistrictId(window.parent)),s=(await loadCSV(CURRENT_OPTIONS["tcm-metadata-url"])).filter(t=>Number(t.district_id)===e)[0],a=(await loadCSV(CURRENT_OPTIONS["tcm-data-url"])).filter(t=>Number(t.district_id)===e),d=a.reduce((t,e)=>(t.sum_student_cases+=parseInt(e.new_student_cases)||0,t.sum_staff_cases+=parseInt(e.new_student_cases)||0,t),{sum_student_cases:0,sum_staff_cases:0}),n=a[a.length-1]||{},i=n.cumulative_student_cases||d.sum_student_cases,c=n.cumulative_staff_cases||d.sum_staff_cases;if(i){const e=attachElement("table",{tableLayout:"fixed",className:"fullwidth"},t);let a=`<tr><th colspan=2>${s.district_name} School District Cases</th></tr>`;if(i&&(a+=`<tr><td><b>Total Student Cases</b></td><td>${i}</td></tr>`),c&&(a+=`<tr><td><b>Total Staff Cases</b></td><td>${c}</td></tr>`),n.date&&(a+=`<tr><td><b>Last Updated</b></td><td>${n.date}</td></tr>`),e.innerHTML=a,n.source){const e=`Data from ${n.source}`;attachElement("p",{className:"footnote",innerHTML:e},t)}e.parentElement.style.visibility="visible"}else t.style.display="none"}();</script>
</div>
</div>

<div>
    <div class="spacer"></div>
    <!-- Wrap the whole widget into a DIV -->
<div style="visibility: hidden;">
    <p class="footnote">
    Data from <a href="https://github.com/GoogleCloudPlatform/covid-19-open-data" target="_blank">
        Google's COVID-19 Open Data
    </a>
</p>
    <script async>!async function(){const t=document.currentScript.parentElement,e=attachElement("div",{},t,prepend=!0),n=getWindowDistrictId(window)||getWindowDistrictId(window.parent),i=await findCountyLocationKey(n);let a=await loadCSV(`${CURRENT_OPTIONS["cod-data-url"]}/${i}/main.csv`);if("ontouchstart"in document.documentElement){const t=100;a=a.slice(-t)}const o=a[0].subregion2_name,c=a.filter(t=>""!==t.new_confirmed).map(t=>({Date:t.date,Cases:parseInt(t.new_confirmed)}));await loadGoogleCharts(["corechart"]),new google.visualization.ColumnChart(e).draw(recordsToDataTable(c),Object.assign({},GOOGLE_CHARTS_CONFIG,{title:`Confirmed cases in ${o}`,colors:["#0277BD"]})),e.parentElement.style.visibility="visible"}();</script>
</div>
</div>

<div>
    <div class="spacer"></div>
    <!-- Wrap the whole widget into a DIV -->
<div style="visibility: hidden;">
    <p class="footnote">
    Data from <a href="https://github.com/GoogleCloudPlatform/covid-19-open-data" target="_blank">
        Google's COVID-19 Open Data
    </a>
</p>
    <script async>!async function(){const t=document.currentScript.parentElement,e=attachElement("div",{},t,prepend=!0),n=getWindowDistrictId(window)||getWindowDistrictId(window.parent),a=await findCountyLocationKey(n);let i=await loadCSV(`${CURRENT_OPTIONS["cod-data-url"]}/${a}/main.csv`);if("ontouchstart"in document.documentElement){const t=100;i=i.slice(-t)}const o=i.map((t,e)=>t.new_confirmed&&""!==t.new_confirmed?e:null).filter(t=>t)[0],c=(i=i.slice(o))[0].subregion2_name,r=i.map((t,e)=>{const n=Math.max(0,e-14),a=i.slice(n,e).reduce((t,e)=>t+(parseInt(e.new_confirmed)||0),0);return{Date:t.date,Cases:a}});await loadGoogleCharts(["corechart"]),new google.visualization.ColumnChart(e).draw(recordsToDataTable(r),Object.assign({},GOOGLE_CHARTS_CONFIG,{title:`Estimated active cases in ${c}`,colors:["#FB780F"]})),e.parentElement.style.visibility="visible"}();</script>
</div>
</div>

<div>
    <div class="spacer"></div>
    <!-- Wrap the whole widget into a DIV -->
<div style="visibility: hidden;">
    <p class="footnote">
    Data from <a href="https://github.com/GoogleCloudPlatform/covid-19-open-data" target="_blank">
        Google's COVID-19 Open Data
    </a>
</p>
    <script async>!async function(){const e=document.currentScript.parentElement,t=getWindowDistrictId(window)||getWindowDistrictId(window.parent),n=await findCountyLocationKey(t),i=await loadCSV(`${CURRENT_OPTIONS["cod-data-url"]}/${n}/main.csv`),o=i[0].subregion2_name,a=["search_trends_fever","search_trends_cough","search_trends_common_cold","search_trends_pneumonia"],r=i.filter(e=>a.some(t=>""!==e[t])).map(e=>{const t={Date:e.date};return a.forEach(n=>t[(e=>e.split("_").slice(2).join(" "))(n)]=parseFloat(e[n])),t});if(r.filter(e=>a.every(t=>e[t])).length>30){const t=attachElement("div",{},root=e,prepend=!0);await loadGoogleCharts(["corechart"]),new google.visualization.LineChart(t).draw(recordsToDataTable(r),Object.assign({},GOOGLE_CHARTS_CONFIG,{title:`Google Search Trends in ${o}`,curveType:"function",legend:{position:"in"},colors:void 0})),t.parentElement.style.visibility="visible"}else e.style.display="none"}();</script>
</div>
</div>

<div>
    <div class="spacer"></div>
    <!-- Wrap the whole widget into a DIV -->
<div style="visibility: hidden;">
    <p class="footnote">
    Data from <a href="https://github.com/GoogleCloudPlatform/covid-19-open-data" target="_blank">
        Google's COVID-19 Open Data
    </a>
</p>
    <script async>!async function(){const t=document.currentScript.parentElement,e=getWindowDistrictId(window)||getWindowDistrictId(window.parent),a=await findCountyLocationKey(e),o=await loadCSV(`${CURRENT_OPTIONS["cod-data-url"]}/${a}/main.csv`),i=o[0].subregion2_name,n=o[0],r=Object.keys(o[0]).filter(t=>t.startsWith("population_age_"));if(r.length>0&&r.every(t=>""!==n[t])){const e=attachElement("div",{},root=t,prepend=!0),a=r.map(t=>({"Age Group":t.replace("population_age_","").replace("_and_older"," and older").replace("_"," - "),Population:parseInt(n[t])}));await loadGoogleCharts(["corechart"]);const o=new google.visualization.ColumnChart(e),s=Object.assign({},GOOGLE_CHARTS_CONFIG,{title:`Age-stratified demographics of ${i}`,colors:["#4E342E"],vAxis:{textPosition:"out",viewWindow:{min:0}},hAxis:{textPosition:"bottom",slantedText:!1,slantedTextAngle:0}});s.chartArea=Object.assign({},s.chartArea,{bottom:32}),o.draw(recordsToDataTable(a),s),e.parentElement.style.visibility="visible"}else t.style.display="none"}();</script>
</div>
</div>

<div>
    <div class="spacer"></div>
    <!-- Wrap the whole widget into a DIV -->
<div style="visibility: hidden;">
    <p class="footnote">
    Data from <a href="https://github.com/GoogleCloudPlatform/covid-19-open-data" target="_blank">
        Google's COVID-19 Open Data
    </a>
</p>
    <script async>!async function(){const t=document.currentScript.parentElement,e=attachElement("div",{},t,prepend=!0),n=getWindowDistrictId(window)||getWindowDistrictId(window.parent),a=await findStateLocationKey(n);let i=await loadCSV(`${CURRENT_OPTIONS["cod-data-url"]}/${a}/main.csv`);if("ontouchstart"in document.documentElement){const t=100;i=i.slice(-t)}const o=i[0].subregion1_name,c=i.filter(t=>""!==t.new_confirmed).map(t=>({Date:t.date,Cases:parseInt(t.new_confirmed)}));await loadGoogleCharts(["corechart"]),new google.visualization.ColumnChart(e).draw(recordsToDataTable(c),Object.assign({},GOOGLE_CHARTS_CONFIG,{title:`Confirmed cases in ${o}`,colors:["#0277BD"]})),e.parentElement.style.visibility="visible"}();</script>
</div>
</div>

<div>
    <div class="spacer"></div>
    <!-- Wrap the whole widget into a DIV -->
<div style="visibility: hidden;">
    <p class="footnote">
    Data from <a href="https://github.com/GoogleCloudPlatform/covid-19-open-data" target="_blank">
        Google's COVID-19 Open Data
    </a>
</p>
    <script async>!async function(){const t=document.currentScript.parentElement,e=attachElement("div",{},t,prepend=!0),n=getWindowDistrictId(window)||getWindowDistrictId(window.parent),a=await findStateLocationKey(n);let i=await loadCSV(`${CURRENT_OPTIONS["cod-data-url"]}/${a}/main.csv`);if("ontouchstart"in document.documentElement){const t=100;i=i.slice(-t)}const o=i.map((t,e)=>t.new_confirmed&&""!==t.new_confirmed?e:null).filter(t=>t)[0],c=(i=i.slice(o))[0].subregion1_name,r=i.map((t,e)=>{const n=Math.max(0,e-14),a=i.slice(n,e).reduce((t,e)=>t+(parseInt(e.new_confirmed)||0),0);return{Date:t.date,Cases:a}});await loadGoogleCharts(["corechart"]),new google.visualization.ColumnChart(e).draw(recordsToDataTable(r),Object.assign({},GOOGLE_CHARTS_CONFIG,{title:`Estimated active cases in ${c}`,colors:["#FB780F"]})),e.parentElement.style.visibility="visible"}();</script>
</div>
</div>

<div>
    <div class="spacer"></div>
    <!-- Wrap the whole widget into a DIV -->
<div style="visibility: hidden;">
    <p class="footnote">
    Data from <a href="https://github.com/GoogleCloudPlatform/covid-19-open-data" target="_blank">
        Google's COVID-19 Open Data
    </a>
</p>
    <script async>!async function(){const e=document.currentScript.parentElement,t=attachElement("div",{},e,prepend=!0),n=getWindowDistrictId(window)||getWindowDistrictId(window.parent),a=await findStateLocationKey(n),i=await loadCSV(`${CURRENT_OPTIONS["cod-data-url"]}/${a}/main.csv`),o=i[0].subregion1_name,r=["search_trends_fever","search_trends_cough","search_trends_common_cold","search_trends_pneumonia"],c=i.filter(e=>r.some(t=>""!==e[t])).map(e=>{const t={Date:e.date};return r.forEach(n=>t[(e=>e.split("_").slice(2).join(" "))(n)]=parseFloat(e[n])),t});await loadGoogleCharts(["corechart"]),new google.visualization.LineChart(t).draw(recordsToDataTable(c),Object.assign({},GOOGLE_CHARTS_CONFIG,{title:`Google Search Trends in ${o}`,curveType:"function",legend:{position:"in"},colors:void 0})),t.parentElement.style.visibility="visible"}();</script>
</div>
</div>

<div>
    <div class="spacer"></div>
    <!-- Wrap the whole widget into a DIV -->
<div style="visibility: hidden;">
    <p class="footnote">
    Data from <a href="https://github.com/GoogleCloudPlatform/covid-19-open-data" target="_blank">
        Google's COVID-19 Open Data
    </a>
</p>
    <script async>!async function(){const t=document.currentScript.parentElement,e=getWindowDistrictId(window)||getWindowDistrictId(window.parent),a=await findStateLocationKey(e),i=await loadCSV(`${CURRENT_OPTIONS["cod-data-url"]}/${a}/main.csv`),o=i[0].subregion1_name,n=i[0],r=Object.keys(i[0]).filter(t=>t.startsWith("population_age_"));if(r.length>0&&r.every(t=>""!==n[t])){const e=attachElement("div",{},t,prepend=!0),a=r.map(t=>({"Age Group":t.replace("population_age_","").replace("_and_older"," and older").replace("_"," - "),Population:parseInt(n[t])}));await loadGoogleCharts(["corechart"]);const i=new google.visualization.ColumnChart(e),s=Object.assign({},GOOGLE_CHARTS_CONFIG,{title:`Age-stratified demographics of ${o}`,colors:["#4E342E"],vAxis:{textPosition:"out",viewWindow:{min:0}},hAxis:{textPosition:"bottom",slantedText:!1,slantedTextAngle:0}});s.chartArea=Object.assign({},s.chartArea,{bottom:32}),i.draw(recordsToDataTable(a),s),e.parentElement.style.visibility="visible"}else t.style.display="none"}();</script>
</div>
</div>

    </main>

    <!-- Load analytics at the end of the page -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-179571406-2"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-179571406-2");</script>



</body></html>