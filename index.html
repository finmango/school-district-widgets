<!DOCTYPE html><html><!-- HTML page head --><head>
    <!-- HTML metadata -->
    <meta charset="UTF-8">
    <title>School District Widgets</title>
    <meta name="description" content="Interactive widgets for the school district covid data">
    <link rel="icon" type="image/png" href="../static/logo-64.png">

    <!-- Add to homescreen for Safari on iOS -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="School District Widgets">

    <!-- Homescreen icons -->
    <link rel="apple-touch-icon" href="../static/icon-64x64.png">
    <link rel="apple-touch-icon" sizes="64x64" href="../static/icon-64x64.png">
    <link rel="apple-touch-icon" sizes="128x128" href="../static/icon-128x128.png">
    <link rel="apple-touch-icon" sizes="512x512" href="../static/icon-512x512.png">

    <!-- Capabilities-related metadata -->
    <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">

    <!-- JQuery and plugins -->
    <script type="text/javascript" src="../third_party/jquery/dist/jquery.min.js"></script>
    <script type="text/javascript" src="../third_party/jquery-ui-dist/jquery-ui.min.js"></script>
    <link rel="stylesheet" href="../third_party/jquery-ui-dist/jquery-ui.min.css">

    <!-- MomentJS -->
    <script type="text/javascript" src="../third_party/moment/min/moment.min.js"></script>

    <!-- Custom styles -->
    <link rel="stylesheet" href="../third_party/picnic/picnic.min.css">
    <link rel="stylesheet" href="../static/styles.min.css">

    <!-- Polyfills, custom functions and constants -->
    <script type="text/javascript" src="../static/polyfills.min.js"></script>


<!-- Chart dependencies -->
<!-- Google Charts -->
<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>

<!-- JQuery and plugins -->
<script type="text/javascript" src="../third_party/jquery/dist/jquery.min.js"></script>
<script type="text/javascript" src="../third_party/jquery-csv/src/jquery.csv.min.js"></script>

<!-- Custom dependencies for data handling -->
<script type="text/javascript" src="../static/data-loader.min.js"></script>

<!-- Configuration loading -->
<script type="text/javascript">DEFAULT_OPTIONS=window.DEFAULT_OPTIONS||{"tcm-metadata-url":"https://storage.googleapis.com/school-districts/school-districts-metadata.csv","cod-data-url":"https://storage.googleapis.com/covid19-open-data/v3","tcm-data-url":"https://storage.googleapis.com/school-districts/cases/latest-school-cases.csv","history-size":21,"chart-style":"bar","epi-reporting":"daily"},CURRENT_OPTIONS=window.CURRENT_OPTIONS||Object.keys(DEFAULT_OPTIONS).reduce((s,t)=>Object.assign(s,{[t]:sessionStorage.getItem(t)||DEFAULT_OPTIONS[t]}),{});</script>

</head><body class="single-column">

    <div class="spacer"></div>

    <main>
        <div>
            <!-- Chart dependencies -->
<!-- Google Charts -->
<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>

<!-- JQuery and plugins -->
<script type="text/javascript" src="../third_party/jquery/dist/jquery.min.js"></script>
<script type="text/javascript" src="../third_party/jquery-csv/src/jquery.csv.min.js"></script>

<!-- Custom dependencies for data handling -->
<script type="text/javascript" src="../static/data-loader.min.js"></script>

<!-- Configuration loading -->
<script type="text/javascript">DEFAULT_OPTIONS=window.DEFAULT_OPTIONS||{"tcm-metadata-url":"https://storage.googleapis.com/school-districts/school-districts-metadata.csv","cod-data-url":"https://storage.googleapis.com/covid19-open-data/v3","tcm-data-url":"https://storage.googleapis.com/school-districts/cases/latest-school-cases.csv","history-size":21,"chart-style":"bar","epi-reporting":"daily"},CURRENT_OPTIONS=window.CURRENT_OPTIONS||Object.keys(DEFAULT_OPTIONS).reduce((s,t)=>Object.assign(s,{[t]:sessionStorage.getItem(t)||DEFAULT_OPTIONS[t]}),{});</script>

<!-- Polyfills, custom functions and constants -->
<script type="text/javascript" src="../static/polyfills.min.js"></script>

<!-- Custom styles -->
<link rel="stylesheet" href="../third_party/picnic/picnic.min.css">
<link rel="stylesheet" href="../static/styles.min.css">

<!-- Wrap the whole widget into a DIV -->
<div>
    <script>!async function(){const t=document.currentScript.parentElement,e=new URLSearchParams(location.search).get("district_id"),c=(await loadCSV(CURRENT_OPTIONS["tcm-metadata-url"])).filter(t=>t.district_id===e)[0],r=(String(c.district_name).titleCase().replace("School District",""),document.createElement("table"));t.prepend(r);let n=`<tr><th colspan=2>${c.district_name} School District Information</th></tr>`;c.school_count&&(n+=`<tr><td><b>Number of Schools</b></td><td>${c.school_count}</td></tr>`),c.student_count&&(n+=`<tr><td><b>Total Student Count</b></td><td>${c.student_count}</td></tr>`),c.teacher_count&&(n+=`<tr><td><b>Total Teacher Count</b></td><td>${c.teacher_count}</td></tr>`),r.innerHTML=n}();</script>
</div>
            <div class="spacer"></div>
            <div class="spacer"></div>
        </div>

        <div>
            <!-- Chart dependencies -->
<!-- Google Charts -->
<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>

<!-- JQuery and plugins -->
<script type="text/javascript" src="../third_party/jquery/dist/jquery.min.js"></script>
<script type="text/javascript" src="../third_party/jquery-csv/src/jquery.csv.min.js"></script>

<!-- Custom dependencies for data handling -->
<script type="text/javascript" src="../static/data-loader.min.js"></script>

<!-- Configuration loading -->
<script type="text/javascript">DEFAULT_OPTIONS=window.DEFAULT_OPTIONS||{"tcm-metadata-url":"https://storage.googleapis.com/school-districts/school-districts-metadata.csv","cod-data-url":"https://storage.googleapis.com/covid19-open-data/v3","tcm-data-url":"https://storage.googleapis.com/school-districts/cases/latest-school-cases.csv","history-size":21,"chart-style":"bar","epi-reporting":"daily"},CURRENT_OPTIONS=window.CURRENT_OPTIONS||Object.keys(DEFAULT_OPTIONS).reduce((s,t)=>Object.assign(s,{[t]:sessionStorage.getItem(t)||DEFAULT_OPTIONS[t]}),{});</script>

<!-- Polyfills, custom functions and constants -->
<script type="text/javascript" src="../static/polyfills.min.js"></script>

<!-- Custom styles -->
<link rel="stylesheet" href="../third_party/picnic/picnic.min.css">
<link rel="stylesheet" href="../static/styles.min.css">

<!-- Wrap the whole widget into a DIV -->
<div>
    <script>!async function(){const t=document.currentScript.parentElement,e=new URLSearchParams(location.search).get("district_id"),s=(await loadCSV(CURRENT_OPTIONS["tcm-metadata-url"])).filter(t=>t.district_id===e)[0],a=(await loadCSV(CURRENT_OPTIONS["tcm-data-url"])).filter(t=>t.district_id===e),d=a.reduce((t,e)=>(t.sum_student_cases+=parseInt(e.new_student_cases)||0,t.sum_staff_cases+=parseInt(e.new_student_cases)||0,t),{sum_student_cases:0,sum_staff_cases:0}),c=a[a.length-1]||{},n=c.cumulative_student_cases||d.sum_student_cases,r=c.cumulative_staff_cases||d.sum_staff_cases;if(n){const e=document.createElement("table");t.prepend(e);let a=`<tr><th colspan=2>${s.district_name} School District Cases</th></tr>`;n&&(a+=`<tr><td><b>Total Student Cases</b></td><td>${n}</td></tr>`),r&&(a+=`<tr><td><b>Total Staff Cases</b></td><td>${r}</td></tr>`),c.date&&(a+=`<tr><td><b>Last Updated</b></td><td>${c.date}</td></tr>`),e.innerHTML=a}else t.style.display="none"}();</script>
</div>
            <div class="spacer"></div>
            <div class="spacer"></div>
        </div>

        <div>
            <!-- Chart dependencies -->
<!-- Google Charts -->
<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>

<!-- JQuery and plugins -->
<script type="text/javascript" src="../third_party/jquery/dist/jquery.min.js"></script>
<script type="text/javascript" src="../third_party/jquery-csv/src/jquery.csv.min.js"></script>

<!-- Custom dependencies for data handling -->
<script type="text/javascript" src="../static/data-loader.min.js"></script>

<!-- Configuration loading -->
<script type="text/javascript">DEFAULT_OPTIONS=window.DEFAULT_OPTIONS||{"tcm-metadata-url":"https://storage.googleapis.com/school-districts/school-districts-metadata.csv","cod-data-url":"https://storage.googleapis.com/covid19-open-data/v3","tcm-data-url":"https://storage.googleapis.com/school-districts/cases/latest-school-cases.csv","history-size":21,"chart-style":"bar","epi-reporting":"daily"},CURRENT_OPTIONS=window.CURRENT_OPTIONS||Object.keys(DEFAULT_OPTIONS).reduce((s,t)=>Object.assign(s,{[t]:sessionStorage.getItem(t)||DEFAULT_OPTIONS[t]}),{});</script>

<!-- Wrap the whole widget into a DIV -->
<div>
    <script>!async function(){const t=document.createElement("div");document.currentScript.parentElement.prepend(t);const e=await async function(){const t=new URLSearchParams(location.search).get("district_id");return`US_${(await loadCSV(`${CURRENT_OPTIONS["tcm-metadata-url"]}`)).filter(e=>e.district_id===t)[0].state}`}(),i=await loadCSV(`${CURRENT_OPTIONS["cod-data-url"]}/${e}/main.csv`),a=i[0].subregion1_name,n=i.filter(t=>""!==t.new_confirmed).map(t=>({Date:t.date,Cases:parseInt(t.new_confirmed)}));await google.charts.load("current",{packages:["corechart"]}),new google.visualization.ColumnChart(t).draw(recordsToDataTable(n),{title:`Confirmed cases in ${a}`,theme:"material",legend:{position:"none"},chartArea:{width:"100%",height:"100%",left:12,bottom:48},titlePosition:"in",axisTitlesPosition:"in",hAxis:{textPosition:"bottom"},vAxis:{textPosition:"in",viewWindow:{min:0}},height:300})}();</script>
</div>
            <div class="spacer"></div>
            <div class="spacer"></div>
        </div>

        <div>
            <!-- Chart dependencies -->
<!-- Google Charts -->
<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>

<!-- JQuery and plugins -->
<script type="text/javascript" src="../third_party/jquery/dist/jquery.min.js"></script>
<script type="text/javascript" src="../third_party/jquery-csv/src/jquery.csv.min.js"></script>

<!-- Custom dependencies for data handling -->
<script type="text/javascript" src="../static/data-loader.min.js"></script>

<!-- Configuration loading -->
<script type="text/javascript">DEFAULT_OPTIONS=window.DEFAULT_OPTIONS||{"tcm-metadata-url":"https://storage.googleapis.com/school-districts/school-districts-metadata.csv","cod-data-url":"https://storage.googleapis.com/covid19-open-data/v3","tcm-data-url":"https://storage.googleapis.com/school-districts/cases/latest-school-cases.csv","history-size":21,"chart-style":"bar","epi-reporting":"daily"},CURRENT_OPTIONS=window.CURRENT_OPTIONS||Object.keys(DEFAULT_OPTIONS).reduce((s,t)=>Object.assign(s,{[t]:sessionStorage.getItem(t)||DEFAULT_OPTIONS[t]}),{});</script>

<!-- Wrap the whole widget into a DIV -->
<div>
    <script>!async function(){const t=document.createElement("div");document.currentScript.parentElement.prepend(t);const e=await async function(){const t=new URLSearchParams(location.search).get("district_id");return`US_${(await loadCSV(`${CURRENT_OPTIONS["tcm-metadata-url"]}`)).filter(e=>e.district_id===t)[0].state}`}(),i=await loadCSV(`${CURRENT_OPTIONS["cod-data-url"]}/${e}/main.csv`),a=i[0].subregion1_name,n=["search_trends_fever","search_trends_cough","search_trends_pneumonia"],o=i.filter(t=>n.some(e=>""!==t[e])).map(t=>{const e={Date:t.date};return n.forEach(i=>e[(t=>t.split("_").slice(2).join(" "))(i)]=parseFloat(t[i])),e});await google.charts.load("current",{packages:["corechart"]}),new google.visualization.LineChart(t).draw(recordsToDataTable(o),{title:`Google Search Trends in ${a}`,theme:"material",curveType:"function",legend:{position:"in"},chartArea:{width:"100%",height:"100%",left:12,bottom:48},titlePosition:"in",axisTitlesPosition:"in",hAxis:{textPosition:"bottom"},vAxis:{textPosition:"in",viewWindow:{min:0}},height:300})}();</script>
</div>
            <div class="spacer"></div>
            <div class="spacer"></div>
        </div>

        <div>
            <!-- Chart dependencies -->
<!-- Google Charts -->
<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>

<!-- JQuery and plugins -->
<script type="text/javascript" src="../third_party/jquery/dist/jquery.min.js"></script>
<script type="text/javascript" src="../third_party/jquery-csv/src/jquery.csv.min.js"></script>

<!-- Custom dependencies for data handling -->
<script type="text/javascript" src="../static/data-loader.min.js"></script>

<!-- Configuration loading -->
<script type="text/javascript">DEFAULT_OPTIONS=window.DEFAULT_OPTIONS||{"tcm-metadata-url":"https://storage.googleapis.com/school-districts/school-districts-metadata.csv","cod-data-url":"https://storage.googleapis.com/covid19-open-data/v3","tcm-data-url":"https://storage.googleapis.com/school-districts/cases/latest-school-cases.csv","history-size":21,"chart-style":"bar","epi-reporting":"daily"},CURRENT_OPTIONS=window.CURRENT_OPTIONS||Object.keys(DEFAULT_OPTIONS).reduce((s,t)=>Object.assign(s,{[t]:sessionStorage.getItem(t)||DEFAULT_OPTIONS[t]}),{});</script>

<!-- Wrap the whole widget into a DIV -->
<div>
    <script>!async function(){const t=document.createElement("div");document.currentScript.parentElement.prepend(t);const i=await async function(){const t=new URLSearchParams(location.search).get("district_id"),i=(await loadCSV(`${CURRENT_OPTIONS["tcm-metadata-url"]}`)).filter(i=>i.district_id===t)[0],e=(await loadCSV("../static/zip-fips-map.csv")).filter(t=>t.zip===i.zip_code)[0].fips;return`US_${i.state}_${e}`}(),e=await loadCSV(`${CURRENT_OPTIONS["cod-data-url"]}/${i}/main.csv`),a=e[0].subregion2_name,n=e.filter(t=>""!==t.new_confirmed).map(t=>({Date:t.date,Cases:parseInt(t.new_confirmed)}));await google.charts.load("current",{packages:["corechart"]}),new google.visualization.ColumnChart(t).draw(recordsToDataTable(n),{title:`Confirmed cases in ${a}`,theme:"material",legend:{position:"none"},chartArea:{width:"100%",height:"100%",left:12,bottom:48},titlePosition:"in",axisTitlesPosition:"in",hAxis:{textPosition:"bottom"},vAxis:{textPosition:"in",viewWindow:{min:0}},height:300})}();</script>
</div>
            <div class="spacer"></div>
            <div class="spacer"></div>
        </div>

        <div>
            <!-- Chart dependencies -->
<!-- Google Charts -->
<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>

<!-- JQuery and plugins -->
<script type="text/javascript" src="../third_party/jquery/dist/jquery.min.js"></script>
<script type="text/javascript" src="../third_party/jquery-csv/src/jquery.csv.min.js"></script>

<!-- Custom dependencies for data handling -->
<script type="text/javascript" src="../static/data-loader.min.js"></script>

<!-- Configuration loading -->
<script type="text/javascript">DEFAULT_OPTIONS=window.DEFAULT_OPTIONS||{"tcm-metadata-url":"https://storage.googleapis.com/school-districts/school-districts-metadata.csv","cod-data-url":"https://storage.googleapis.com/covid19-open-data/v3","tcm-data-url":"https://storage.googleapis.com/school-districts/cases/latest-school-cases.csv","history-size":21,"chart-style":"bar","epi-reporting":"daily"},CURRENT_OPTIONS=window.CURRENT_OPTIONS||Object.keys(DEFAULT_OPTIONS).reduce((s,t)=>Object.assign(s,{[t]:sessionStorage.getItem(t)||DEFAULT_OPTIONS[t]}),{});</script>

<!-- Wrap the whole widget into a DIV -->
<div>
    <script>!async function(){const t=document.currentScript.parentElement,e=await async function(){const t=new URLSearchParams(location.search).get("district_id"),e=(await loadCSV(`${CURRENT_OPTIONS["tcm-metadata-url"]}`)).filter(e=>e.district_id===t)[0],i=(await loadCSV("../static/zip-fips-map.csv")).filter(t=>t.zip===e.zip_code)[0].fips;return`US_${e.state}_${i}`}(),i=await loadCSV(`${CURRENT_OPTIONS["cod-data-url"]}/${e}/main.csv`),a=i[0].subregion2_name,n=["search_trends_fever","search_trends_cough","search_trends_pneumonia"],o=i.filter(t=>n.some(e=>""!==t[e])).map(t=>{const e={Date:t.date};return n.forEach(i=>e[(t=>t.split("_").slice(2).join(" "))(i)]=parseFloat(t[i])),e});if(o.filter(t=>n.every(e=>t[e])).length>30){const e=document.createElement("div");t.prepend(e),await google.charts.load("current",{packages:["corechart"]}),new google.visualization.LineChart(e).draw(recordsToDataTable(o),{title:`Google Search Trends in ${a}`,theme:"material",curveType:"function",legend:{position:"in"},chartArea:{width:"100%",height:"100%",left:12,bottom:48},titlePosition:"in",axisTitlesPosition:"in",hAxis:{textPosition:"bottom"},vAxis:{textPosition:"in",viewWindow:{min:0}},height:300})}else t.style.display="none"}();</script>
</div>
            <div class="spacer"></div>
            <div class="spacer"></div>
        </div>
    </main>

    <!-- <div id="chart"></div> -->

    <!-- Load analytics at the end of the page -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-179571406-2"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-179571406-2");</script>



</body></html>